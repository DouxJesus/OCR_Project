# Simple SDL mini Makefile

CC=gcc

CPPFLAGS= `pkg-config --cflags sdl` -MMD
CFLAGS= -Wall -Wextra -Werror -std=c99 -O3
LDFLAGS=
LDLIBS= `pkg-config --libs sdl` -lSDL_image

all: main

main: main.o main.c Image_BMP/BMP.o ImageProcessing/BlackAndWhite.o
	$(CC) $(CFLAGS) -o main.o $(CPPFLAGS) $(LDLIBS)
main.o: main.c Image_BMP/BMP.o ImageProcessing/BlackAndWhite.o
	$(CC) $(CFLAGS) -c main.c $(CPPFLAGS) $(LDLIBS)

BlackAndWhite.o: Image_BMP/pixel_operations.h Image_BMP/BMP.h 
		$(CC) $(CFLAGS) -c ImageProcessing/BlackAndWhite.c $(CPPFLAGS) $(LDLIBS)

BMP.o: Image_BMP/BMP.c Image_BMP/BMP.h Image_BMP/pixel_operations.c Image_BMP/pixel_operation.h
		$(CC) $(CFLAGS) -c ImageProcessing/BlackAndWhite.c $(CPPFLAGS) $(LDLIBS)

clean:
	${RM} *.o
	${RM} *.d
	${RM} main

# END
